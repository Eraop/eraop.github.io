webpackJsonp([5],{XRqo:function(t,a){},zSHs:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={name:"News",data:function(){return{total:0,pageSize:this.PAGE_SIZE,pageIndex:1,channels:[],list:[],loading:!0,fixedNav:!1,isCN:!1}},created:function(){this.isCN=this.$common.isCN(),this.getChannels(),this.getPage()},watch:{$route:function(t,a){this.getPage()}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{pageChange:function(t){this.pageIndex=t,this.getPage(),document.body.scrollTop=0,document.documentElement.scrollTop=0},getChannels:function(){var t=this;return this.$http.get("/api/news/channel").then(function(a){200==a.status&&(t.channels=a.data,console.log(2))})},getPage:function(){var t=this;return this.loading=!0,this.$http.get("/api/news/list",{params:{pageIndex:this.pageIndex,pageSize:this.pageSize,channel_id:this.$route.params.id}}).then(function(a){200==a.status&&(t.list=a.data.items,t.total=a.data.total,t.pageSize=a.data.pageSize,t.pageIndex=a.data.pageIndex,setTimeout(function(){t.loading=!1},1e3))})},handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,a=document.body.clientWidth||document.body.offsetWidth||document.body.scrollWidth;this.fixedNav=t>=140&&a>=768}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"mainNews"}},[e("div",{staticClass:"main-banner"}),t._v(" "),e("div",{staticClass:"inner-padding"},[e("div",{staticClass:"container"},[e("div",{staticClass:"section-container-content"},[e("div",{staticClass:"row"},[e("div",{class:{"fixed-nav":t.fixedNav},attrs:{id:"channel_nav"}},[e("ul",{staticClass:"section-container-nav nav nav-pills nav-stacked"},[e("li",{attrs:{role:"presentation"}},[e("router-link",{attrs:{to:{name:"news"},exact:""}},[t._v(t._s(t.isCN?"所有博客":"All Blogs"))])],1),t._v(" "),t._l(t.channels,function(a,s){return e("li",{key:s,attrs:{role:"presentation"}},[e("router-link",{attrs:{to:{name:"news_channel",params:{id:a.id}}}},[t._v(t._s(t.isCN?a.name:a.name_key))])],1)})],2)]),t._v(" "),e("div",{attrs:{id:"channel_news"}},[e("cw-loading",{attrs:{loading:t.loading}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"section-container-list"},[t._l(t.list,function(a,s){return e("div",{key:s,staticClass:"col-xs-12"},[e("router-link",{attrs:{to:{name:"newsdetail",params:{id:a.id}},target:"_blank"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"card-title"},[t._v(t._s(t.isCN?a.title:a.title_key))]),t._v(" "),e("div",{staticClass:"card-description",domProps:{innerHTML:t._s(a.description)}})]),t._v(" "),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"card-footer-wrapper"},[e("div",{staticClass:"card-tag pull-right"},[t._v(t._s(a.period))]),t._v(" "),e("div",{staticClass:"card-medium"})])])])])],1)}),t._v(" "),e("div",{staticClass:"clearfix"})],2),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"section-container-page"},[e("div",{staticClass:"col-xs-12"},[e("cw-pager",{attrs:{total:t.total,"current-page":t.pageIndex,"page-size":t.pageSize},on:{"page-change":t.pageChange}})],1)])],1)])])])])])},staticRenderFns:[]};var n=e("VU/8")(s,i,!1,function(t){e("XRqo")},"data-v-6c133eaf",null);a.default=n.exports}});
//# sourceMappingURL=News.f2865b94bc481d6f9220.js.map
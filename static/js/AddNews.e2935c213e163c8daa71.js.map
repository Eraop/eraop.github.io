{"version":3,"sources":["webpack:///src/components/editor/Tinymce.vue","webpack:///./src/components/editor/Tinymce.vue?1faf","webpack:///./src/components/editor/Tinymce.vue","webpack:///src/views/admin/AddNews.vue","webpack:///./src/views/admin/AddNews.vue?e635","webpack:///./src/views/admin/AddNews.vue"],"names":["plugins","Tinymce","name","props","id","type","String","value","default","toolbar","Array","required","menubar","height","Number","data","hasChange","hasInit","tinymceId","this","Date","fullscreen","watch","val","_this2","$nextTick","window","tinymce","get","setContent","mounted","initTinymce","activated","deactivated","destroyTinymce","methods","_this3","_this","init","selector","body_class","language","object_resizing","length","end_container_on_empty_block","powerpaste_word_import","code_dialog_height","code_dialog_width","advlist_bullet_styles","advlist_number_styles","imagetools_cors_hosts","default_link_target","link_title","init_instance_callback","editor","on","$emit","getContent","setup","e","state","destroy","imageSuccessCBK","arr","forEach","v","insertContent","url","destroyed","editor_Tinymce","render","_h","$createElement","_c","_self","staticClass","class","attrs","staticRenderFns","AddNews","channels","article","create_date","last_update","channel_id","content","title","title_key","period","user_id","viewcount","description","rules","message","trigger","min","max","components","TinymceEditor","__webpack_require__","normalizeComponent","ssrContext","ElCol","element_ui_common","ElForm","ElButton","ElFormItem","ElOption","ElSelect","ElInput","$route","to","from","$router","go","beforeCreate","params","$http","then","res","status","code","alert","submitForm","formName","$refs","validate","valid","post","push","console","log","admin_AddNews","_vm","ref","model","label-width","span","label","prop","callback","$$v","$set","expression","_v","_l","item","key","click","$event","AddNews_Component","AddNews_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/AddNews.e2935c213e163c8daa71.js","sourcesContent":["<template>\n    <div class=\"tinymce-container editor-container\" :class=\"{fullscreen:fullscreen}\">\n        <textarea class=\"tinymce-textarea\" :id=\"tinymceId\"></textarea>\n        <!-- <div class=\"editor-custom-btn-container\">\n            <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\"></editorImage>\n        </div> -->\n    </div>\n</template>\n<script scoped>\n// import editorImage from \"./components/editorImage\";\n// import plugins from \"./plugins\";\n// import toolbar from \"./toolbar\";\n\nconst plugins = [\n  \"advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount\"\n];\n\nexport default {\n  name: \"TinymceEditor\",\n  //   components: { editorImage },\n  props: {\n    id: {\n      type: String\n    },\n    value: {\n      type: String,\n      default: \"\"\n    },\n    toolbar: {\n      type: Array,\n      required: false,\n      default() {\n        return [\n          \"bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample\",\n          \"hr bullist numlist link image charmap\t preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen\"\n        ];\n      }\n    },\n    menubar: {\n      default: \"file edit insert view format table\"\n    },\n    height: {\n      type: Number,\n      required: false,\n      default: 360\n    }\n  },\n  data() {\n    return {\n      hasChange: false,\n      hasInit: false,\n      tinymceId: this.id || \"vue-tinymce-\" + +new Date(), //元素前使用 ‘+’ 号，这个操作是将该元素转换秤Number类型\n      fullscreen: false\n    };\n  },\n  watch: {\n    value(val) {\n      if (!this.hasChange && this.hasInit) {\n        this.$nextTick(() =>\n          window.tinymce.get(this.tinymceId).setContent(val || \"\")\n        );\n      }\n    }\n  },\n  mounted() {\n    this.initTinymce();\n  },\n  activated() {\n    this.initTinymce();\n  },\n  deactivated() {\n    this.destroyTinymce();\n  },\n  methods: {\n    initTinymce() {\n      const _this = this;\n      tinymce.init({\n        selector: `#${this.tinymceId}`,\n        height: this.height,\n        body_class: \"panel-body \",\n        language: \"zh_CN\",\n        object_resizing: false,\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\n        menubar: this.menubar,\n        plugins: plugins,\n        end_container_on_empty_block: true,\n        powerpaste_word_import: \"clean\",\n        code_dialog_height: 450,\n        code_dialog_width: 1000,\n        advlist_bullet_styles: \"square\",\n        advlist_number_styles: \"default\",\n        imagetools_cors_hosts: [\"www.tinymce.com\", \"codepen.io\"],\n        default_link_target: \"_blank\",\n        link_title: false,\n        init_instance_callback: editor => {\n          if (_this.value) {\n            editor.setContent(_this.value);\n          }\n          _this.hasInit = true;\n          editor.on(\"NodeChange Change KeyUp SetContent\", () => {\n            this.hasChange = true;\n            this.$emit(\"input\", editor.getContent());\n          });\n        },\n        setup(editor) {\n          editor.on(\"FullscreenStateChanged\", e => {\n            _this.fullscreen = e.state;\n          });\n        }\n      });\n    },\n    destroyTinymce() {\n      if (window.tinymce.get(this.tinymceId)) {\n        window.tinymce.get(this.tinymceId).destroy();\n      }\n    },\n    setContent(value) {\n      window.tinymce.get(this.tinymceId).setContent(value);\n    },\n    getContent() {\n      window.tinymce.get(this.tinymceId).getContent();\n    },\n    imageSuccessCBK(arr) {\n      const _this = this;\n      arr.forEach(v => {\n        window.tinymce\n          .get(_this.tinymceId)\n          .insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`);\n      });\n    }\n  },\n  destroyed() {\n    this.destroyTinymce();\n  }\n};\n</script>\n\n<style scoped>\n.tinymce-container {\n  position: relative;\n}\n.tinymce-container > .mce-fullscreen {\n  z-index: 10000;\n}\n.tinymce-textarea {\n  visibility: hidden;\n  z-index: -1;\n}\n.editor-custom-btn-container {\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  /*z-index: 2005;*/\n}\n.fullscreen .editor-custom-btn-container {\n  z-index: 10000;\n  position: fixed;\n}\n.editor-upload-btn {\n  display: inline-block;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/editor/Tinymce.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tinymce-container editor-container\",class:{fullscreen:_vm.fullscreen}},[_c('textarea',{staticClass:\"tinymce-textarea\",attrs:{\"id\":_vm.tinymceId}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c14813c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/editor/Tinymce.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c14813c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Tinymce.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tinymce.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tinymce.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c14813c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tinymce.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c14813c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/editor/Tinymce.vue\n// module id = null\n// module chunks = "," <template>\r\n  <div class=\"components-container\">\r\n    <el-form :model=\"article\" ref=\"ruleForm\" label-width=\"80px\" :rules=\"rules\">\r\n      <el-col :span=\"12\">\r\n        <el-form-item label=\"标题\" prop=\"title\">\r\n          <el-input v-model=\"article.title\"></el-input>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-form-item label=\"英文标题\" prop=\"title_key\">\r\n          <el-input v-model=\"article.title_key\"></el-input>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-form-item label=\"项目时间\" prop=\"period\">\r\n          <el-input v-model=\"article.period\"></el-input>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-form-item label=\"类别\" prop=\"channel_id\">\r\n          <el-select v-model=\"article.channel_id\">\r\n            <el-option v-for=\"item in channels\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col :span=\"24\">\r\n        <el-form-item label=\"描述\" prop=\"description\">\r\n          <div class=\"editor-container\">\r\n            <el-input type=\"textarea\" v-model=\"article.description\"></el-input>\r\n          </div>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col :span=\"24\">\r\n        <el-form-item label=\"内容\" prop=\"content\">\r\n          <div class=\"editor-container\">\r\n            <tinymce-editor :height=\"500\" v-model=\"article.content\"></tinymce-editor>\r\n          </div>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col :span=\"24\">\r\n        <el-form-item>\r\n          <el-button type=\"primary\" class=\"pull-right\" @click=\"submitForm('ruleForm')\">保存</el-button>\r\n          <el-button class=\"pull-right\">取消</el-button>\r\n        </el-form-item>\r\n      </el-col>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Form, Col, Button, FormItem, Option, Select, Input } from \"element-ui\";\r\nimport TinymceEditor from \"../../components/editor/Tinymce\";\r\nexport default {\r\n  name: \"AddNews\",\r\n  data() {\r\n    return {\r\n      channels: [],\r\n      article: {\r\n        id: \"\",\r\n        create_date: \"\",\r\n        last_update: \"\",\r\n        channel_id: \"\",\r\n        content: \"\",\r\n        title: \"\",\r\n        title_key: \"\",\r\n        period: \"\",\r\n        user_id: \"\",\r\n        viewcount: \"\",\r\n        description: \"\"\r\n      },\r\n      rules: {\r\n        title: [\r\n          { required: true, message: \"请输入文章标题\", trigger: \"blur\" },\r\n          {\r\n            min: 1,\r\n            max: 200,\r\n            message: \"长度在 1 到 200 个字符\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        description: [\r\n          { required: true, message: \"请输入文章描述\", trigger: \"blur\" }\r\n        ],\r\n        content: [\r\n          { required: true, message: \"请输入文章内容\", trigger: \"blur\" }\r\n        ],\r\n        channel_id: [\r\n          { required: true, message: \"请选择类别\", trigger: \"change\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    TinymceEditor,\r\n    ElCol: Col,\r\n    ElForm: Form,\r\n    ElButton: Button,\r\n    ElFormItem: FormItem,\r\n    ElOption: Option,\r\n    ElSelect: Select,\r\n    ElInput: Input\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      this.$router.go(0);\r\n    }\r\n  },\r\n  beforeCreate: function () {\r\n    if (this.$route.params.id && this.$route.params.id > 0) {\r\n      // 编辑页面\r\n      this.$http\r\n        .get(\"/api/admin/news/detail/\" + this.$route.params.id)\r\n        .then(res => {\r\n          if (res.status == 200) {\r\n            if (res.data && res.data.code == 200) {\r\n              this.article = res.data.data;\r\n            } else if (res.data && res.data.code == 404) {\r\n              alert(\"文章已经不存在\");\r\n            }\r\n          }\r\n        });\r\n    }\r\n    this.$http.get(\"/api/news/channel\").then(res => {\r\n      if (res.status == 200) {\r\n        this.channels = res.data;\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          return this.$http\r\n            .post(\"/api/admin/news/save\", this.article)\r\n            .then(res => {\r\n              if (res.status == 200) {\r\n                if (res.data && res.data.code === 200) {\r\n                  this.$router.push({ name: \"admin_news\" });\r\n                } else {\r\n                  alert(\"提交失败\");\r\n                }\r\n              }\r\n            });\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script> \n\n\n// WEBPACK FOOTER //\n// src/views/admin/AddNews.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"components-container\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.article,\"label-width\":\"80px\",\"rules\":_vm.rules}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.article.title),callback:function ($$v) {_vm.$set(_vm.article, \"title\", $$v)},expression:\"article.title\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"英文标题\",\"prop\":\"title_key\"}},[_c('el-input',{model:{value:(_vm.article.title_key),callback:function ($$v) {_vm.$set(_vm.article, \"title_key\", $$v)},expression:\"article.title_key\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"项目时间\",\"prop\":\"period\"}},[_c('el-input',{model:{value:(_vm.article.period),callback:function ($$v) {_vm.$set(_vm.article, \"period\", $$v)},expression:\"article.period\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"类别\",\"prop\":\"channel_id\"}},[_c('el-select',{model:{value:(_vm.article.channel_id),callback:function ($$v) {_vm.$set(_vm.article, \"channel_id\", $$v)},expression:\"article.channel_id\"}},_vm._l((_vm.channels),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"description\"}},[_c('div',{staticClass:\"editor-container\"},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.article.description),callback:function ($$v) {_vm.$set(_vm.article, \"description\", $$v)},expression:\"article.description\"}})],1)])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('div',{staticClass:\"editor-container\"},[_c('tinymce-editor',{attrs:{\"height\":500},model:{value:(_vm.article.content),callback:function ($$v) {_vm.$set(_vm.article, \"content\", $$v)},expression:\"article.content\"}})],1)])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',[_c('el-button',{staticClass:\"pull-right\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"pull-right\"},[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b8566fda\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/AddNews.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddNews.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddNews.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b8566fda\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddNews.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/AddNews.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}